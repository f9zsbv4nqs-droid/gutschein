<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Geburtstagsr√§tsel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { margin:0; font-family:"Segoe UI",Arial,sans-serif; background:linear-gradient(135deg,#0f2027,#203a43,#2c5364); color:#fff; }
.container { max-width:900px; margin:auto; padding:20px; }
.card { background: rgba(255,255,255,0.08); border-radius:20px; box-shadow:0 20px 40px rgba(0,0,0,0.4); overflow:hidden; }
.content { padding:20px; text-align:center; }
input { padding:10px; border-radius:8px; border:none; width:90%; max-width:260px; font-size:1rem; }
button { margin-top:20px; padding:12px 28px; font-size:1rem; border:none; border-radius:30px; cursor:pointer; background:#ffd479; color:#1a2a33; font-weight:bold; }
.hidden { display:none; }
.error { color:#ffb3b3; margin-top:10px; }

.voucher-box { border:2px dashed #ffffffaa; border-radius:15px; padding:20px; margin:20px 0; background:rgba(0,0,0,0.25); }
.highlight { font-size:1.8rem; color:#ffd479; font-weight:bold; }

.confetti { position:fixed; top:-10px; width:10px; height:10px; animation:fall 3s linear forwards; z-index:9999; }
@keyframes fall { to { transform:translateY(110vh) rotate(360deg); opacity:0; } }

/* TIC TAC TOE */
#ttt { display:grid; grid-template-columns:repeat(3,1fr); gap:10px; max-width:300px; margin:20px auto; }
.cell {
    background:rgba(255,255,255,0.15);
    border-radius:12px;
    font-size:3rem;
    height:90px;
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
}

img.voucher-image { max-width:80%; border-radius:15px; margin-bottom:15px; }

@media(max-width:500px){
.highlight{font-size:1.5rem;}
button{font-size:0.95rem;padding:10px 24px;}
}
</style>
</head>
<body>
<div class="container"><div class="card"><div class="content">

<!-- R√ÑTSEL -->
<div id="riddle">
<h1>üß† Geburtstagsr√§tsel</h1>

<p>üåç Gr√∂√üte Stadt der Welt (nach Einwohnern)?</p>
<input id="q1"><br><br>

<p>üó∫Ô∏è Gr√∂√üte Stadt der Welt (nach Fl√§che)?</p>
<input id="q2"><br><br>

<p>‚ò¢Ô∏è Datum des Atombombenabwurfs auf Hiroshima?</p>
<input id="q3"><br>

<button onclick="checkRiddle()">Antworten pr√ºfen</button>
<div class="error hidden" id="riddleError">‚ùå Leider falsch</div>
</div>

<!-- TIC TAC TOE -->
<div id="game" class="hidden">
<h1>‚≠ï Tic-Tac-Toe</h1>
<p><strong>Erreiche drei ‚ùå in einer Reihe!</strong></p>
<div id="ttt"></div>
<div class="error hidden" id="gameError">‚ùå Noch kein Gewinn!</div>
</div>

<!-- GUTSCHEIN BUTTON -->
<div id="unlock" class="hidden">
<button onclick="showVoucher()">üéÅ Gutschein einl√∂sen</button>
</div>

<!-- GUTSCHEIN -->
<div id="voucher" class="hidden">
<h1>üéâ Alles Gute zum 50. Geburtstag! üéâ</h1>
<h2>Lieber Papa</h2>
<img src="bild.jpeg" alt="Reise-Gutschein" class="voucher-image">
<div class="voucher-box">
<p>Zu deinem Geburtstag bekommst du von uns:</p>
<div class="highlight">üß≥ EINEN NEUEN REISEKOFFER üß≥</div>
<p>F√ºr viele neue Abenteuer und unvergessliche Erinnerungen.</p>
</div>
<p>Mit ganz viel Liebe üíô<br><strong>Jonas, Emilia, Emely und Moritz</strong></p>
</div>

</div></div></div>

<script>
// ===================== R√ÑTSEL =====================
function n(t){return t.toLowerCase().trim();}
function checkRiddle(){
if(
n(q1.value)=="tokio" &&
n(q2.value)=="chongqing" &&
(n(q3.value)=="6. august 1945" || n(q3.value)=="06.08.1945")
){
riddle.classList.add("hidden");
initTTT();
game.classList.remove("hidden");
} else riddleError.classList.remove("hidden");
}

// ===================== TIC TAC TOE =====================
let board=[];
function initTTT(){
const ttt=document.getElementById("ttt");
ttt.innerHTML="";
board=Array(9).fill("");
for(let i=0;i<9;i++){
const c=document.createElement("div");
c.className="cell";
c.onclick=()=>move(i,c);
ttt.appendChild(c);
}
}

function move(i,c){
if(board[i]) return;
board[i]="X";
c.textContent="‚ùå";
if(checkWin()){
game.classList.add("hidden");
unlock.classList.remove("hidden");
} else gameError.classList.remove("hidden");
}

function checkWin(){
const w=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
return w.some(p=>p.every(i=>board[i]=="X"));
}

// ===================== GUTSCHEIN =====================
function showVoucher(){
unlock.classList.add("hidden");
voucher.classList.remove("hidden");
launchConfetti();
}

// ===================== KONFETTI =====================
function launchConfetti(){
for(let i=0;i<120;i++){
const c=document.createElement("div");
c.className="confetti";
c.style.left=Math.random()*100+"vw";
c.style.backgroundColor=`hsl(${Math.random()*360},80%,60%)`;
document.body.appendChild(c);
setTimeout(()=>c.remove(),4000);
}}

// ===================== ELEMENTE =====================
const q1=document.getElementById("q1"),
      q2=document.getElementById("q2"),
      q3=document.getElementById("q3"),
      riddle=document.getElementById("riddle"),
      riddleError=document.getElementById("riddleError"),
      game=document.getElementById("game"),
      gameError=document.getElementById("gameError"),
      unlock=document.getElementById("unlock"),
      voucher=document.getElementById("voucher");
</script>
</body>
</html>
